<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0,minimum-scale=1.0, maximum-scale=1.0,user-scalable=no">

  <link rel="stylesheet" href="./css/reset.css" />

  <link rel="stylesheet" href="//g.alicdn.com/msui/sm/0.6.2/css/sm.min.css">

  <style>
    .list-block ul {
      background-color: #f5f5f5;
    }
    .list-block li {
      margin-top: 10px;
      background-color: #fff;
    }
  
  </style>

</head>

<body>
  <!-- page集合的容器，里面放多个平行的.page，其他.page作为内联页面由路由控制展示 -->
  <div class="page-group">
    <!-- 单个page ,第一个.page默认被展示-->
    <div class="page">
      <!-- 标题栏 -->
      <header class="bar bar-nav">
        <h1 class="title">选题一览</h1>
      </header>

      <div class="bar bar-header-secondary">
        <form id="searchForm">
          <div class="searchbar">
            <a class="searchbar-cancel">取消</a>
            <div class="search-input">
              <label class="icon icon-search" for="search"></label>
              <input type="search" id='search' placeholder='输入教师姓名...' />
            </div>
          </div>
        </form>
      </div>

      <!-- 这里是页面内容区 -->
      <div class="content">
        <div class="content-block">
          <div class="list-block media-list">
            <ul>
              <li>
                <a href="./views/dictopInfo.html" class="item-link item-content">
                  <div class="item-media"><img src="../image/bs.jpg" style='width: 4rem;'></div>
                  <div class="item-inner">
                    <div class="item-title-row">
                      <div class="item-title">基于SSM的人力资源管理系统</div>
                    </div>
                    <div class="item-subtitle">聂大大</div>
                    <div class="item-text">基于SSM的人力资源管理系统基于SSM的人力资源管理系统基于SSM的人力资源管理系统基于SSM的人力资源管理系统</div>
                  </div>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <nav class="bar bar-tab">
        <a class="tab-item external active" href="#">
          <span class="icon icon-home"></span>
          <span class="tab-label">主页</span>
        </a>
        <a class="tab-item external active" href="./views/user.html">
          <span class="icon icon-friends"></span>
          <span class="tab-label">个人中心</span>
        </a>
      </nav>
    </div>

  </div>

</body>
<script type='text/javascript' src='//g.alicdn.com/sj/lib/zepto/zepto.min.js' charset='utf-8'></script>
<script type='text/javascript' src='//g.alicdn.com/msui/sm/0.6.2/js/sm.min.js' charset='utf-8'></script>
<script src="./js/jquery-3.2.1.min.js"></script>
<script src="./js/jquery.cookie.js"></script>
<script src="./js/constant.js"></script>
<script>
  $(function () {

    getList();

    $("#searchForm")[0].onsubmit = function() {
      getList($("#search").val());
      return false;
    }

    function getList(teacherName) {
      $.getJSON(getURL() + "designtopic/listDesigntopicByCurr", {
          page: 1,
          num: 999,
          teacherName: teacherName
        })
        .then(function (res) {
          if (res.isSuccessful) {
            $(".list-block ul").html("");
            $.each(res.list, function (index, item) {
              $(".list-block ul").append([
                '<li>',
                '<a href="./views/dictopInfo.html?id='+item.id+'" class="item-link item-content">',
                '<div class="item-media"><img src="../image/bs.jpg" style="width: 4rem"></div>',
                '<div class="item-inner">',
                '<div class="item-title-row">',
                '<div class="item-title">' + item.topic + '</div>',
                '</div>',
                '<div class="item-subtitle">' + item.dish_teacher.teacherName + '</div>',
                '<div class="item-text">' + item.description + '</div>',
                '</div>',
                '</a>',
                '</li>'
              ].join(""))
            })
          }
        })
    }


  });
</script>

</html>